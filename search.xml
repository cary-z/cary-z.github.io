<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>各种配置</title>
      <link href="/2022/04/13/config/"/>
      <url>/2022/04/13/config/</url>
      
        <content type="html"><![CDATA[<h2 id="prettier-config"><a href="#prettier-config" class="headerlink" title="prettier config"></a>prettier config</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  printWidth: 120, // 每行代码长度（默认80）</span><br><span class="line">  tabWidth: 2, // 每个tab相当于多少个空格（默认2）</span><br><span class="line">  useTabs: false, // 是否使用tab进行缩进（默认false）</span><br><span class="line">  singleQuote: true, // 使用单引号（默认false）</span><br><span class="line">  semi: false, // 声明结尾使用分号(默认true)</span><br><span class="line">  htmlWhitespaceSensitivity: 'ignore',</span><br><span class="line">  trailingComma: 'none', // 多行使用拖尾逗号（默认none）</span><br><span class="line">  bracketSpacing: true, // 对象字面量的大括号间使用空格（默认true）</span><br><span class="line">  jsxBracketSameLine: true, // 多行JSX中的&gt;放置在最后一行的结尾，而不是另起一行（默认false）</span><br><span class="line">  arrowParens: 'always' // 只有一个参数的箭头函数的参数是否带圆括号（默认avoid）</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="vscode-config"><a href="#vscode-config" class="headerlink" title="vscode config"></a>vscode config</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"editor.tabSize"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="comment">// #每次保存的时候将代码按eslint格式进行修复</span></span><br><span class="line">    <span class="attr">"editor.codeActionsOnSave"</span>: &#123;</span><br><span class="line">        <span class="attr">"source.fixAll.eslint"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//  #让函数(名)和后面的括号之间加个空格</span></span><br><span class="line">    <span class="attr">"javascript.format.insertSpaceBeforeFunctionParenthesis"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// #这个按用户自身习惯选择 </span></span><br><span class="line">    <span class="attr">"vetur.format.defaultFormatter.html"</span>: <span class="string">"js-beautify-html"</span>,</span><br><span class="line">    <span class="attr">"vetur.format.defaultFormatterOptions"</span>: &#123;</span><br><span class="line">        <span class="attr">"js-beautify-html"</span>: &#123;</span><br><span class="line">            <span class="attr">"wrap_attributes"</span>: <span class="string">"force-aligned"</span></span><br><span class="line">            <span class="comment">// #vue组件中html代码格式化样式</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"workbench.iconTheme"</span>: <span class="string">"vscode-icons-mac"</span>,</span><br><span class="line">    <span class="attr">"terminal.integrated.profiles.osx"</span>: &#123;</span><br><span class="line">        <span class="attr">"zsh"</span>: &#123;</span><br><span class="line">            <span class="attr">"path"</span>: <span class="string">"zsh"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"editor.fontSize"</span>: <span class="number">14</span>,</span><br><span class="line">    <span class="attr">"git.ignoreLimitWarning"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"debug.javascript.usePreview"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"javascript.updateImportsOnFileMove.enabled"</span>: <span class="string">"always"</span>,</span><br><span class="line">    <span class="attr">"[vue]"</span>: &#123;</span><br><span class="line">        <span class="attr">"editor.defaultFormatter"</span>: <span class="string">"octref.vetur"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"prettier.semi"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"prettier.singleQuote"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"prettier.tabWidth"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"vetur.format.defaultFormatter.js"</span>: <span class="string">"vscode-typescript"</span>,</span><br><span class="line">    <span class="comment">// "[javascript]": &#123;</span></span><br><span class="line">    <span class="comment">//     "editor.defaultFormatter": "esbenp.prettier-vscode"</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="attr">"[typescript]"</span>: &#123;</span><br><span class="line">        <span class="attr">"editor.defaultFormatter"</span>: <span class="string">"esbenp.prettier-vscode"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"workbench.editorAssociations"</span>: &#123;</span><br><span class="line">        <span class="attr">"*"</span>: <span class="string">"default"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"window.zoomLevel"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"leetcode.endpoint"</span>: <span class="string">"leetcode-cn"</span>,</span><br><span class="line">    <span class="attr">"leetcode.workspaceFolder"</span>: <span class="string">"/Volumes/HDD/力扣题目"</span>,</span><br><span class="line">    <span class="attr">"terminal.integrated.env.osx"</span>: &#123;</span><br><span class="line">        <span class="attr">"FIG_NEW_SESSION"</span>: <span class="string">"1"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"editor.accessibilitySupport"</span>: <span class="string">"off"</span>,</span><br><span class="line">    <span class="attr">"[javascript]"</span>: &#123;</span><br><span class="line">        <span class="attr">"editor.defaultFormatter"</span>: <span class="string">"vscode.typescript-language-features"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"prettier.printWidth"</span>: <span class="number">120</span>,</span><br><span class="line">    <span class="attr">"[html]"</span>: &#123;</span><br><span class="line">        <span class="attr">"editor.defaultFormatter"</span>: <span class="string">"esbenp.prettier-vscode"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"diffEditor.ignoreTrimWhitespace"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"workbench.editor.splitInGroupLayout"</span>: <span class="string">"vertical"</span>,</span><br><span class="line">    <span class="attr">"vetur.validation.script"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"editor.formatOnPaste"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"editor.formatOnSave"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"leetcode.hint.commentDescription"</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="zshrc-config"><a href="#zshrc-config" class="headerlink" title="zshrc config"></a>zshrc config</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> If you come from bash you might have to change your <span class="variable">$PATH</span>.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">export</span> PATH=<span class="variable">$HOME</span>/bin:/usr/<span class="built_in">local</span>/bin:<span class="variable">$PATH</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Path to your oh-my-zsh installation.</span></span><br><span class="line">export ZSH="$HOME/.oh-my-zsh"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Set name of the theme to load --- <span class="keyword">if</span> <span class="built_in">set</span> to <span class="string">"random"</span>, it will</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> load a random theme each time oh-my-zsh is loaded, <span class="keyword">in</span> <span class="built_in">which</span> <span class="keyword">case</span>,</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> to know <span class="built_in">which</span> specific one was loaded, run: <span class="built_in">echo</span> <span class="variable">$RANDOM_THEME</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</span></span><br><span class="line">ZSH_THEME="robbyrussell"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Set list of themes to pick from when loading at random</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Setting this variable when ZSH_THEME=random will cause zsh to load</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> a theme from this variable instead of looking <span class="keyword">in</span> <span class="variable">$ZSH</span>/themes/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> If <span class="built_in">set</span> to an empty array, this variable will have no effect.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ZSH_THEME_RANDOM_CANDIDATES=( <span class="string">"robbyrussell"</span> <span class="string">"agnoster"</span> )</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line to use <span class="keyword">case</span>-sensitive completion.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CASE_SENSITIVE=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line to use hyphen-insensitive completion.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Case-sensitive completion must be off. _ and - will be interchangeable.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> HYPHEN_INSENSITIVE=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment one of the following lines to change the auto-update behavior</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">zstyle</span> <span class="string">':omz:update'</span> mode disabled  <span class="comment"># disable automatic updates</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">zstyle</span> <span class="string">':omz:update'</span> mode auto      <span class="comment"># update automatically without asking</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">zstyle</span> <span class="string">':omz:update'</span> mode reminder  <span class="comment"># just remind me to update when it's time</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line to change how often to auto-update (<span class="keyword">in</span> days).</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">zstyle</span> <span class="string">':omz:update'</span> frequency 13</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line <span class="keyword">if</span> pasting URLs and other text is messed up.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> DISABLE_MAGIC_FUNCTIONS=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line to <span class="built_in">disable</span> colors <span class="keyword">in</span> ls.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> DISABLE_LS_COLORS=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line to <span class="built_in">disable</span> auto-setting terminal title.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> DISABLE_AUTO_TITLE=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line to <span class="built_in">enable</span> <span class="built_in">command</span> auto-correction.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ENABLE_CORRECTION=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line to display red dots whilst waiting <span class="keyword">for</span> completion.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> You can also <span class="built_in">set</span> it to another string to have that shown instead of the default red dots.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> e.g. COMPLETION_WAITING_DOTS=<span class="string">"%F&#123;yellow&#125;waiting...%f"</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Caution: this setting can cause issues with multiline prompts <span class="keyword">in</span> zsh &lt; 5.7.1 (see <span class="comment">#5765)</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> COMPLETION_WAITING_DOTS=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line <span class="keyword">if</span> you want to <span class="built_in">disable</span> marking untracked files</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> under VCS as dirty. This makes repository status check <span class="keyword">for</span> large repositories</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> much, much faster.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> DISABLE_UNTRACKED_FILES_DIRTY=<span class="string">"true"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment the following line <span class="keyword">if</span> you want to change the <span class="built_in">command</span> execution time</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> stamp shown <span class="keyword">in</span> the <span class="built_in">history</span> <span class="built_in">command</span> output.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> You can <span class="built_in">set</span> one of the optional three formats:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">"mm/dd/yyyy"</span>|<span class="string">"dd.mm.yyyy"</span>|<span class="string">"yyyy-mm-dd"</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> or <span class="built_in">set</span> a custom format using the strftime <span class="keyword">function</span> format specifications,</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> see <span class="string">'man strftime'</span> <span class="keyword">for</span> details.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> HIST_STAMPS=<span class="string">"mm/dd/yyyy"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Would you like to use another custom folder than <span class="variable">$ZSH</span>/custom?</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ZSH_CUSTOM=/path/to/new-custom-folder</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Which plugins would you like to load?</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Standard plugins can be found <span class="keyword">in</span> <span class="variable">$ZSH</span>/plugins/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Custom plugins may be added to <span class="variable">$ZSH_CUSTOM</span>/plugins/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example format: plugins=(rails git textmate ruby lighthouse)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Add wisely, as too many plugins slow down shell startup.</span></span><br><span class="line">plugins=(git zsh-autosuggestions)</span><br><span class="line"></span><br><span class="line">source $ZSH/oh-my-zsh.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> User configuration</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">export</span> MANPATH=<span class="string">"/usr/local/man:<span class="variable">$MANPATH</span>"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> You may need to manually <span class="built_in">set</span> your language environment</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">export</span> LANG=en_US.UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Preferred editor <span class="keyword">for</span> <span class="built_in">local</span> and remote sessions</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">if</span> [[ -n <span class="variable">$SSH_CONNECTION</span> ]]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">   <span class="built_in">export</span> EDITOR=<span class="string">'vim'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">else</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">   <span class="built_in">export</span> EDITOR=<span class="string">'mvim'</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">fi</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Compilation flags</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">export</span> ARCHFLAGS=<span class="string">"-arch x86_64"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Set personal aliases, overriding those provided by oh-my-zsh libs,</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> plugins, and themes. Aliases can be placed here, though oh-my-zsh</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> users are encouraged to define aliases within the ZSH_CUSTOM folder.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> For a full list of active aliases, run `<span class="built_in">alias</span>`.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example aliases</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">alias</span> zshconfig=<span class="string">"mate ~/.zshrc"</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">alias</span> ohmyzsh=<span class="string">"mate ~/.oh-my-zsh"</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 自定义别名</span></span><br><span class="line">alias yd="yarn dev"</span><br><span class="line">alias yda="yarn dev:api"</span><br><span class="line">alias yb="yarn build"</span><br><span class="line">alias ybw="yarn build-watch"</span><br><span class="line">alias code="/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin/code"</span><br><span class="line">alias subl="/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl"</span><br><span class="line">alias ng="sudo nginx"</span><br><span class="line">alias ngt="sudo nginx -t"</span><br><span class="line">alias ngsr="sudo nginx -s reload"</span><br><span class="line">alias ngst="sudo nginx -s stop"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> oh my zsh 扩展命令</span></span><br><span class="line">alias gstat="git add . &amp;&amp; git stash save '暂存' &amp;&amp; git stash apply stash@&#123;0&#125; &amp;&amp; git restore --staged ."</span><br><span class="line">alias glgf="git log --stat --date=format:'%Y年%m月%d日%H时%M分%S秒'"</span><br><span class="line">alias gdap="gb -D release/prod &amp;&amp; git push origin --delete release/prod &amp;&amp; gcm &amp;&amp; gl &amp;&amp; gcb release/prod"</span><br><span class="line">alias gdat="gb -D release/test &amp;&amp; git push origin --delete release/test &amp;&amp; gcm &amp;&amp; gcb release/test"</span><br><span class="line">alias gallm="gm feature/sg-refactor &amp;&amp; gm feature/sg-refactor-server &amp;&amp; gm feature/server-common &amp;&amp; gm feature/server-bankcard &amp;&amp; gm feature/sg-refactor-client &amp;&amp; gm feature/client-bankcard-list"</span><br><span class="line">alias gstam="git stash save '暂存'"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 自定义环境变量</span></span><br><span class="line">export NODE_ENV='development'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 加上时间戳</span></span><br><span class="line">RPROMPT="%D %T %"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> autojump插件</span></span><br><span class="line">[[ -s `brew --prefix`/etc/autojump.sh ]] &amp;&amp; . `brew --prefix`/etc/autojump.sh</span><br><span class="line"></span><br><span class="line">export NVM_DIR="$HOME/.nvm"</span><br><span class="line">[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"  # This loads nvm</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> chrome别名</span></span><br><span class="line">alias chrome="/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome"</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> config </category>
          
      </categories>
      
      
        <tags>
            
            <tag> json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>切片上传以及展示</title>
      <link href="/2022/04/03/Shard-To-Upload-And-Show/"/>
      <url>/2022/04/03/Shard-To-Upload-And-Show/</url>
      
        <content type="html"><![CDATA[<h2 id="切片上传"><a href="#切片上传" class="headerlink" title="切片上传"></a>切片上传</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// input为用户已经上传文件的input框</span></span><br><span class="line">btn.onclick = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> file = input.files[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> [fileName,etc] = file.name.split(<span class="string">'.'</span>)</span><br><span class="line">  <span class="keyword">const</span> size = <span class="number">1024</span></span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (index * size &gt; file.size) <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">const</span> chunk = file.slice(index * size, (index + <span class="number">1</span>) * size)</span><br><span class="line">    <span class="keyword">const</span> chunkFile = <span class="keyword">new</span> File([chunk],<span class="string">`<span class="subst">$&#123;fileName&#125;</span>_<span class="subst">$&#123;index&#125;</span>.<span class="subst">$&#123;etc&#125;</span>`</span>)</span><br><span class="line">    index++</span><br><span class="line">    <span class="keyword">const</span> form = <span class="keyword">new</span> FormData();</span><br><span class="line">    form.append(<span class="string">'file'</span>, chunkFile);</span><br><span class="line">    <span class="keyword">await</span> axios.post(<span class="string">'/upload'</span>,form,&#123;</span><br><span class="line">      Headers: &#123;</span><br><span class="line">        contentType: <span class="string">'multipart/form-data'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="图片不同方式展示"><a href="#图片不同方式展示" class="headerlink" title="图片不同方式展示"></a>图片不同方式展示</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">show_btn.onclick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> file = input.files[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> [fileName,etc] = file.name.split(<span class="string">'.'</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// blob转url</span></span><br><span class="line">  img.src = <span class="built_in">window</span>.URL.createObjectURL(file)</span><br><span class="line">  img.title = fileName</span><br><span class="line"></span><br><span class="line">  <span class="comment">// base64</span></span><br><span class="line">  <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader()</span><br><span class="line">  reader.readAsDataURL(file)</span><br><span class="line">  reader.onload = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.target.result)</span><br><span class="line">    img.src = e.target.result</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// iframe展示pdf</span></span><br><span class="line">  iframe.src = <span class="built_in">window</span>.URL.createObjectURL(file)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> upload </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手写各种方法</title>
      <link href="/2022/02/16/Write-Method/"/>
      <url>/2022/02/16/Write-Method/</url>
      
        <content type="html"><![CDATA[<h2 id="手写new-简陋版"><a href="#手写new-简陋版" class="headerlink" title="手写new(简陋版)"></a>手写new(简陋版)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_new</span> (<span class="params">constructor,...arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="keyword">constructor</span>.prototype)</span><br><span class="line">    const result = <span class="keyword">constructor</span>.apply(obj,arg)</span><br><span class="line">  if (result &amp;&amp; (typeof result === 'function' || typeof result === 'object')) &#123;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="手写call-简陋版"><a href="#手写call-简陋版" class="headerlink" title="手写call(简陋版)"></a>手写call(简陋版)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_call</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [_thisArg,...arg] = [...arguments]</span><br><span class="line">    <span class="keyword">const</span> thisArg = <span class="built_in">Object</span>(_thisArg) || <span class="built_in">window</span></span><br><span class="line">    <span class="keyword">const</span> temFn = <span class="built_in">Symbol</span>()</span><br><span class="line">    thisArg[temFn] = <span class="keyword">this</span></span><br><span class="line">    thisArg[temFn](...arg)</span><br><span class="line">    <span class="keyword">delete</span> thisArg[temFn]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="手写instanceof-简陋版"><a href="#手写instanceof-简陋版" class="headerlink" title="手写instanceof(简陋版)"></a>手写instanceof(简陋版)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_instanceof</span> (<span class="params">object,constructor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> object !== <span class="string">'object'</span> || object === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">while</span> (object) &#123;</span><br><span class="line">        <span class="keyword">if</span> (object.__proto__ === <span class="keyword">constructor</span>.prototype) return true</span><br><span class="line">        object = object.__proto__</span><br><span class="line">    &#125;</span><br><span class="line">    return false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CommonMethods </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git 命令简写</title>
      <link href="/2021/12/07/git-command/"/>
      <url>/2021/12/07/git-command/</url>
      
        <content type="html"><![CDATA[<h2 id="git-命令简写"><a href="#git-命令简写" class="headerlink" title="git 命令简写"></a>git 命令简写</h2><p>出自 .oh-my-zsh/plugins/git/git.plugin.zsh</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br></pre></td><td class="code"><pre><span class="line">alias g='git'</span><br><span class="line"></span><br><span class="line">alias ga='git add'</span><br><span class="line">alias gaa='git add --all'</span><br><span class="line">alias gapa='git add --patch'</span><br><span class="line">alias gau='git add --update'</span><br><span class="line">alias gav='git add --verbose'</span><br><span class="line">alias gap='git apply'</span><br><span class="line">alias gapt='git apply --3way'</span><br><span class="line"></span><br><span class="line">alias gb='git branch'</span><br><span class="line">alias gba='git branch -a'</span><br><span class="line">alias gbd='git branch -d'</span><br><span class="line">alias gbda='git branch --no-color --merged | command grep -vE "^([+*]|\s*($(git_main_branch)|$(git_develop_branch))\s*$)" | command xargs git branch -d 2&gt;/dev/null'</span><br><span class="line">alias gbD='git branch -D'</span><br><span class="line">alias gbl='git blame -b -w'</span><br><span class="line">alias gbnm='git branch --no-merged'</span><br><span class="line">alias gbr='git branch --remote'</span><br><span class="line">alias gbs='git bisect'</span><br><span class="line">alias gbsb='git bisect bad'</span><br><span class="line">alias gbsg='git bisect good'</span><br><span class="line">alias gbsr='git bisect reset'</span><br><span class="line">alias gbss='git bisect start'</span><br><span class="line"></span><br><span class="line">alias gc='git commit -v'</span><br><span class="line">alias gc!='git commit -v --amend'</span><br><span class="line">alias gcn!='git commit -v --no-edit --amend'</span><br><span class="line">alias gca='git commit -v -a'</span><br><span class="line">alias gca!='git commit -v -a --amend'</span><br><span class="line">alias gcan!='git commit -v -a --no-edit --amend'</span><br><span class="line">alias gcans!='git commit -v -a -s --no-edit --amend'</span><br><span class="line">alias gcam='git commit -a -m'</span><br><span class="line">alias gcsm='git commit -s -m'</span><br><span class="line">alias gcas='git commit -a -s'</span><br><span class="line">alias gcasm='git commit -a -s -m'</span><br><span class="line">alias gcb='git checkout -b'</span><br><span class="line">alias gcf='git config --list'</span><br><span class="line"></span><br><span class="line">function gccd() &#123;</span><br><span class="line">  command git clone --recurse-submodules "$@"</span><br><span class="line">  [[ -d "$_" ]] &amp;&amp; cd "$_" || cd "$&#123;$&#123;_:t&#125;%.git&#125;"</span><br><span class="line">&#125;</span><br><span class="line">compdef _git gccd=git-clone</span><br><span class="line"></span><br><span class="line">alias gcl='git clone --recurse-submodules'</span><br><span class="line">alias gclean='git clean -id'</span><br><span class="line">alias gpristine='git reset --hard &amp;&amp; git clean -dffx'</span><br><span class="line">alias gcm='git checkout $(git_main_branch)'</span><br><span class="line">alias gcd='git checkout $(git_develop_branch)'</span><br><span class="line">alias gcmsg='git commit -m'</span><br><span class="line">alias gco='git checkout'</span><br><span class="line">alias gcor='git checkout --recurse-submodules'</span><br><span class="line">alias gcount='git shortlog -sn'</span><br><span class="line">alias gcp='git cherry-pick'</span><br><span class="line">alias gcpa='git cherry-pick --abort'</span><br><span class="line">alias gcpc='git cherry-pick --continue'</span><br><span class="line">alias gcs='git commit -S'</span><br><span class="line">alias gcss='git commit -S -s'</span><br><span class="line">alias gcssm='git commit -S -s -m'</span><br><span class="line"></span><br><span class="line">alias gd='git diff'</span><br><span class="line">alias gdca='git diff --cached'</span><br><span class="line">alias gdcw='git diff --cached --word-diff'</span><br><span class="line">alias gdct='git describe --tags $(git rev-list --tags --max-count=1)'</span><br><span class="line">alias gds='git diff --staged'</span><br><span class="line">alias gdt='git diff-tree --no-commit-id --name-only -r'</span><br><span class="line">alias gdup='git diff @&#123;upstream&#125;'</span><br><span class="line">alias gdw='git diff --word-diff'</span><br><span class="line"></span><br><span class="line">function gdnolock() &#123;</span><br><span class="line">  git diff "$@" ":(exclude)package-lock.json" ":(exclude)*.lock"</span><br><span class="line">&#125;</span><br><span class="line">compdef _git gdnolock=git-diff</span><br><span class="line"></span><br><span class="line">function gdv() &#123; git diff -w "$@" | view - &#125;</span><br><span class="line">compdef _git gdv=git-diff</span><br><span class="line"></span><br><span class="line">alias gf='git fetch'</span><br><span class="line"><span class="meta">#</span><span class="bash"> --<span class="built_in">jobs</span>=&lt;n&gt; was added <span class="keyword">in</span> git 2.8</span></span><br><span class="line">is-at-least 2.8 "$git_version" \</span><br><span class="line">  &amp;&amp; alias gfa='git fetch --all --prune --jobs=10' \</span><br><span class="line">  || alias gfa='git fetch --all --prune'</span><br><span class="line">alias gfo='git fetch origin'</span><br><span class="line"></span><br><span class="line">alias gfg='git ls-files | grep'</span><br><span class="line"></span><br><span class="line">alias gg='git gui citool'</span><br><span class="line">alias gga='git gui citool --amend'</span><br><span class="line"></span><br><span class="line">function ggf() &#123;</span><br><span class="line">  [[ "$#" != 1 ]] &amp;&amp; local b="$(git_current_branch)"</span><br><span class="line">  git push --force origin "$&#123;b:=$1&#125;"</span><br><span class="line">&#125;</span><br><span class="line">compdef _git ggf=git-checkout</span><br><span class="line">function ggfl() &#123;</span><br><span class="line">  [[ "$#" != 1 ]] &amp;&amp; local b="$(git_current_branch)"</span><br><span class="line">  git push --force-with-lease origin "$&#123;b:=$1&#125;"</span><br><span class="line">&#125;</span><br><span class="line">compdef _git ggfl=git-checkout</span><br><span class="line"></span><br><span class="line">function ggl() &#123;</span><br><span class="line">  if [[ "$#" != 0 ]] &amp;&amp; [[ "$#" != 1 ]]; then</span><br><span class="line">    git pull origin "$&#123;*&#125;"</span><br><span class="line">  else</span><br><span class="line">    [[ "$#" == 0 ]] &amp;&amp; local b="$(git_current_branch)"</span><br><span class="line">    git pull origin "$&#123;b:=$1&#125;"</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">compdef _git ggl=git-checkout</span><br><span class="line"></span><br><span class="line">function ggp() &#123;</span><br><span class="line">  if [[ "$#" != 0 ]] &amp;&amp; [[ "$#" != 1 ]]; then</span><br><span class="line">    git push origin "$&#123;*&#125;"</span><br><span class="line">  else</span><br><span class="line">    [[ "$#" == 0 ]] &amp;&amp; local b="$(git_current_branch)"</span><br><span class="line">    git push origin "$&#123;b:=$1&#125;"</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">compdef _git ggp=git-checkout</span><br><span class="line"></span><br><span class="line">function ggpnp() &#123;</span><br><span class="line">  if [[ "$#" == 0 ]]; then</span><br><span class="line">    ggl &amp;&amp; ggp</span><br><span class="line">  else</span><br><span class="line">    ggl "$&#123;*&#125;" &amp;&amp; ggp "$&#123;*&#125;"</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">compdef _git ggpnp=git-checkout</span><br><span class="line"></span><br><span class="line">function ggu() &#123;</span><br><span class="line">  [[ "$#" != 1 ]] &amp;&amp; local b="$(git_current_branch)"</span><br><span class="line">  git pull --rebase origin "$&#123;b:=$1&#125;"</span><br><span class="line">&#125;</span><br><span class="line">compdef _git ggu=git-checkout</span><br><span class="line"></span><br><span class="line">alias ggpur='ggu'</span><br><span class="line">alias ggpull='git pull origin "$(git_current_branch)"'</span><br><span class="line">alias ggpush='git push origin "$(git_current_branch)"'</span><br><span class="line"></span><br><span class="line">alias ggsup='git branch --set-upstream-to=origin/$(git_current_branch)'</span><br><span class="line">alias gpsup='git push --set-upstream origin $(git_current_branch)'</span><br><span class="line"></span><br><span class="line">alias ghh='git help'</span><br><span class="line"></span><br><span class="line">alias gignore='git update-index --assume-unchanged'</span><br><span class="line">alias gignored='git ls-files -v | grep "^[[:lower:]]"'</span><br><span class="line">alias git-svn-dcommit-push='git svn dcommit &amp;&amp; git push github $(git_main_branch):svntrunk'</span><br><span class="line"></span><br><span class="line">alias gk='\gitk --all --branches &amp;!'</span><br><span class="line">alias gke='\gitk --all $(git log -g --pretty=%h) &amp;!'</span><br><span class="line"></span><br><span class="line">alias gl='git pull'</span><br><span class="line">alias glg='git log --stat'</span><br><span class="line">alias glgp='git log --stat -p'</span><br><span class="line">alias glgg='git log --graph'</span><br><span class="line">alias glgga='git log --graph --decorate --all'</span><br><span class="line">alias glgm='git log --graph --max-count=10'</span><br><span class="line">alias glo='git log --oneline --decorate'</span><br><span class="line">alias glol="git log --graph --pretty='%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset'"</span><br><span class="line">alias glols="git log --graph --pretty='%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset' --stat"</span><br><span class="line">alias glod="git log --graph --pretty='%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset'"</span><br><span class="line">alias glods="git log --graph --pretty='%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset' --date=short"</span><br><span class="line">alias glola="git log --graph --pretty='%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset' --all"</span><br><span class="line">alias glog='git log --oneline --decorate --graph'</span><br><span class="line">alias gloga='git log --oneline --decorate --graph --all'</span><br><span class="line">alias glp="_git_log_prettily"</span><br><span class="line"></span><br><span class="line">alias gm='git merge'</span><br><span class="line">alias gmom='git merge origin/$(git_main_branch)'</span><br><span class="line">alias gmtl='git mergetool --no-prompt'</span><br><span class="line">alias gmtlvim='git mergetool --no-prompt --tool=vimdiff'</span><br><span class="line">alias gmum='git merge upstream/$(git_main_branch)'</span><br><span class="line">alias gma='git merge --abort'</span><br><span class="line"></span><br><span class="line">alias gp='git push'</span><br><span class="line">alias gpd='git push --dry-run'</span><br><span class="line">alias gpf='git push --force-with-lease'</span><br><span class="line">alias gpf!='git push --force'</span><br><span class="line">alias gpoat='git push origin --all &amp;&amp; git push origin --tags'</span><br><span class="line">alias gpr='git pull --rebase'</span><br><span class="line">alias gpu='git push upstream'</span><br><span class="line">alias gpv='git push -v'</span><br><span class="line"></span><br><span class="line">alias gr='git remote'</span><br><span class="line">alias gra='git remote add'</span><br><span class="line">alias grb='git rebase'</span><br><span class="line">alias grba='git rebase --abort'</span><br><span class="line">alias grbc='git rebase --continue'</span><br><span class="line">alias grbd='git rebase $(git_develop_branch)'</span><br><span class="line">alias grbi='git rebase -i'</span><br><span class="line">alias grbm='git rebase $(git_main_branch)'</span><br><span class="line">alias grbo='git rebase --onto'</span><br><span class="line">alias grbs='git rebase --skip'</span><br><span class="line">alias grev='git revert'</span><br><span class="line">alias grh='git reset'</span><br><span class="line">alias grhh='git reset --hard'</span><br><span class="line">alias groh='git reset origin/$(git_current_branch) --hard'</span><br><span class="line">alias grm='git rm'</span><br><span class="line">alias grmc='git rm --cached'</span><br><span class="line">alias grmv='git remote rename'</span><br><span class="line">alias grrm='git remote remove'</span><br><span class="line">alias grs='git restore'</span><br><span class="line">alias grset='git remote set-url'</span><br><span class="line">alias grss='git restore --source'</span><br><span class="line">alias grst='git restore --staged'</span><br><span class="line">alias grt='cd "$(git rev-parse --show-toplevel || echo .)"'</span><br><span class="line">alias gru='git reset --'</span><br><span class="line">alias grup='git remote update'</span><br><span class="line">alias grv='git remote -v'</span><br><span class="line"></span><br><span class="line">alias gsb='git status -sb'</span><br><span class="line">alias gsd='git svn dcommit'</span><br><span class="line">alias gsh='git show'</span><br><span class="line">alias gsi='git submodule init'</span><br><span class="line">alias gsps='git show --pretty=short --show-signature'</span><br><span class="line">alias gsr='git svn rebase'</span><br><span class="line">alias gss='git status -s'</span><br><span class="line">alias gst='git status'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> use the default stash push on git 2.13 and newer</span></span><br><span class="line">is-at-least 2.13 "$git_version" \</span><br><span class="line">  &amp;&amp; alias gsta='git stash push' \</span><br><span class="line">  || alias gsta='git stash save'</span><br><span class="line"></span><br><span class="line">alias gstaa='git stash apply'</span><br><span class="line">alias gstc='git stash clear'</span><br><span class="line">alias gstd='git stash drop'</span><br><span class="line">alias gstl='git stash list'</span><br><span class="line">alias gstp='git stash pop'</span><br><span class="line">alias gsts='git stash show --text'</span><br><span class="line">alias gstu='gsta --include-untracked'</span><br><span class="line">alias gstall='git stash --all'</span><br><span class="line">alias gsu='git submodule update'</span><br><span class="line">alias gsw='git switch'</span><br><span class="line">alias gswc='git switch -c'</span><br><span class="line">alias gswm='git switch $(git_main_branch)'</span><br><span class="line">alias gswd='git switch $(git_develop_branch)'</span><br><span class="line"></span><br><span class="line">alias gts='git tag -s'</span><br><span class="line">alias gtv='git tag | sort -V'</span><br><span class="line">alias gtl='gtl()&#123; git tag --sort=-v:refname -n -l "$&#123;1&#125;*" &#125;; noglob gtl'</span><br><span class="line"></span><br><span class="line">alias gunignore='git update-index --no-assume-unchanged'</span><br><span class="line">alias gunwip='git log -n 1 | grep -q -c "\-\-wip\-\-" &amp;&amp; git reset HEAD~1'</span><br><span class="line">alias gup='git pull --rebase'</span><br><span class="line">alias gupv='git pull --rebase -v'</span><br><span class="line">alias gupa='git pull --rebase --autostash'</span><br><span class="line">alias gupav='git pull --rebase --autostash -v'</span><br><span class="line">alias glum='git pull upstream $(git_main_branch)'</span><br><span class="line"></span><br><span class="line">alias gwch='git whatchanged -p --abbrev-commit --pretty=medium'</span><br><span class="line">alias gwip='git add -A; git rm $(git ls-files --deleted) 2&gt; /dev/null; git commit --no-verify --no-gpg-sign -m "--wip-- [skip ci]"'</span><br><span class="line"></span><br><span class="line">alias gam='git am'</span><br><span class="line">alias gamc='git am --continue'</span><br><span class="line">alias gams='git am --skip'</span><br><span class="line">alias gama='git am --abort'</span><br><span class="line">alias gamscp='git am --show-current-patch'</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> config </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>防抖和节流</title>
      <link href="/2021/11/22/debounce-and-throttle/"/>
      <url>/2021/11/22/debounce-and-throttle/</url>
      
        <content type="html"><![CDATA[<h2 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h2><p>只要事件发生就延迟设定时间执行传入函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    clearTimeout(timer)</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      fn.apply(<span class="keyword">this</span>, args)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h2><p>两次事件发生时间间隔超过设定时间间隔才执行传入函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> previous = <span class="number">0</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> now = <span class="built_in">Date</span>.now()</span><br><span class="line">    <span class="keyword">if</span> (now - previous &gt; wait) &#123;</span><br><span class="line">      previous = now</span><br><span class="line">      fn.apply(<span class="keyword">this</span>, args)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CommonMethods </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>封装占比组件</title>
      <link href="/2021/11/19/ProportionComponent/"/>
      <url>/2021/11/19/ProportionComponent/</url>
      
        <content type="html"><![CDATA[<h2 id="封装占比的组件"><a href="#封装占比的组件" class="headerlink" title="封装占比的组件"></a>封装占比的组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div v-if&#x3D;&quot;isError&quot;&gt;</span><br><span class="line">      &lt;span&gt;数据异常&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div v-else</span><br><span class="line">         class&#x3D;&quot;ProportionChart&quot;&gt;</span><br><span class="line">      &lt;template v-for&#x3D;&quot;(item,index) in proportion&quot;&gt;</span><br><span class="line">        &lt;div :key&#x3D;&quot;&#39;proportion_&#39;+index&quot;</span><br><span class="line">             :style&#x3D;&quot;item&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;proportion-chart&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    seriesData: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      required: true,</span><br><span class="line">      deep: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      proportion: [],</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    seriesData: &#123;</span><br><span class="line">      handler () &#123;</span><br><span class="line">        if (this.proportion.length &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">          const color &#x3D; [&#39;#1D9BF6&#39;, &#39;#FF001E&#39;, &#39;#00BB28&#39;]</span><br><span class="line">          for (let i &#x3D; 0; i &lt; this.seriesData.proportion.value.length; i++) &#123;</span><br><span class="line">            this.proportion.push(&#123;</span><br><span class="line">              backgroundColor: color[this.seriesData.proportion.value.length - 1 - i],</span><br><span class="line">              height: &#39;35px&#39;,</span><br><span class="line">              width: &#39;100%&#39;,</span><br><span class="line">              flexShrink: 0,</span><br><span class="line">              transition: &#39;all 1s&#39;,</span><br><span class="line">              transform: &#96;translateX($&#123;-(i + 1) * 100&#125;%)&#96;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        this.$nextTick(() &#x3D;&gt; &#123;</span><br><span class="line">          let num &#x3D; 0</span><br><span class="line">          for (let i &#x3D; this.seriesData.proportion.value.length - 1; i &gt;&#x3D; 0; i--) &#123;</span><br><span class="line">            const offset &#x3D; this.seriesData.proportion.value[i] &#x2F; this.seriesData.total.value * 100</span><br><span class="line">            this.proportion[i].transform &#x3D; &#96;translateX($&#123;-(i + 1) * 100 + num + offset&#125;%)&#96;</span><br><span class="line">            num +&#x3D; offset</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      immediate: true,</span><br><span class="line">      deep: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    isError () &#123;</span><br><span class="line">      const total &#x3D; this.seriesData.total.value</span><br><span class="line">      if (!total) &#123; return true &#125;</span><br><span class="line">      return total &lt; this.seriesData.proportion.value.reduce((pre, cur) &#x3D;&gt; pre + cur, 0)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;scss&quot; scoped&gt;</span><br><span class="line">::v-deep .ProportionChart &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 35px;</span><br><span class="line">  background-color: gray;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><h2 id="示例图片"><a href="#示例图片" class="headerlink" title="示例图片"></a>示例图片</h2><p><img src="示例图.png" alt="示例图"></p><h2 id="传入数据结构"><a href="#传入数据结构" class="headerlink" title="传入数据结构"></a>传入数据结构</h2><p>用了transform来提高性能，外部传入的数据为以下结构</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  total:&#123;</span><br><span class="line">    key:<span class="string">'score'</span>,<span class="comment">// 总数描述</span></span><br><span class="line">    value: <span class="number">100</span><span class="comment">// 总数值</span></span><br><span class="line">  &#125;,</span><br><span class="line">  proportion:&#123;</span><br><span class="line">    key:[<span class="string">'Math'</span>,<span class="string">'English'</span>,<span class="string">'Chinese'</span>],<span class="comment">// 其他占比描述</span></span><br><span class="line">    value:[<span class="number">99</span>,<span class="number">55</span>,<span class="number">77</span>]<span class="comment">// 其他占比的值</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> encapsulate </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组去重处理</title>
      <link href="/2021/08/30/ArrayDeDuplication/"/>
      <url>/2021/08/30/ArrayDeDuplication/</url>
      
        <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">123</span>,<span class="string">'webank'</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">'123'</span>,[&#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>&#125;],[&#123;<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">a</span>:<span class="number">1</span>&#125;],&#123;<span class="attr">c</span>:<span class="number">3</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">d</span>:<span class="literal">null</span>&#125;,<span class="string">'tencent'</span>,<span class="number">123</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],&#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>,<span class="attr">c</span>:<span class="number">3</span>,<span class="attr">d</span>:<span class="literal">null</span>&#125;,<span class="literal">null</span>,<span class="literal">null</span>,<span class="literal">NaN</span>,<span class="literal">NaN</span>]</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ArrayDeDuplication</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">checkRepeat</span>(<span class="params">obj1,obj2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (obj1 === <span class="literal">null</span>) <span class="keyword">return</span> obj1 === obj2</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.getOwnPropertyNames(obj1).length !== <span class="built_in">Object</span>.getOwnPropertyNames(obj2).length) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> obj1) &#123;</span><br><span class="line">      <span class="keyword">const</span> [item1,item2] = [obj1[key],obj2[key]]</span><br><span class="line">      <span class="keyword">if</span> (obj2.hasOwnProperty(key)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> item1 === <span class="keyword">typeof</span> item2 &amp;&amp; <span class="keyword">typeof</span> item1 === <span class="string">'object'</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> checkRepeat(item1,item2)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">Number</span>.isNaN(item1) &amp;&amp; <span class="built_in">Number</span>.isNaN(item2)) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> item1 === item2</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 双重循环</span></span><br><span class="line">  <span class="keyword">const</span> newArr = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> item === <span class="string">'object'</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> flag = newArr.every(<span class="function"><span class="params">newItem</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> newItem !== <span class="string">'object'</span>) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> !checkRepeat(item,newItem)</span><br><span class="line">      &#125;)</span><br><span class="line">      flag &amp;&amp; newArr.push(item)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      newArr.includes(item) || newArr.push(item)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr</span><br><span class="line"></span><br><span class="line">  <span class="comment">// reduce方法</span></span><br><span class="line">  <span class="comment">// return arr.reduce((acc,cur) =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   if (typeof cur === 'object') &#123;</span></span><br><span class="line">  <span class="comment">//     const flag = acc.every(newItem =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//       if (typeof newItem !== 'object') return true</span></span><br><span class="line">  <span class="comment">//       else if (Array.isArray(newItem) || newItem == null ||  item == null) return JSON.stringify(item) !== JSON.stringify(newItem)</span></span><br><span class="line">  <span class="comment">//       else return !checkRepeat(item,newItem)</span></span><br><span class="line">  <span class="comment">//     &#125;)</span></span><br><span class="line">  <span class="comment">//     flag &amp;&amp; acc.push(cur)</span></span><br><span class="line">  <span class="comment">//   &#125; else &#123;</span></span><br><span class="line">  <span class="comment">//     acc.includes(cur) || acc.push(cur)</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">//   return acc</span></span><br><span class="line">  <span class="comment">// &#125;,[])</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(ArrayDeDuplication(arr))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数组扁平化处理</title>
      <link href="/2021/08/26/Array-flattening/"/>
      <url>/2021/08/26/Array-flattening/</url>
      
        <content type="html"><![CDATA[<p>提供一个测试数组以及记录时间代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试数组</span></span><br><span class="line"><span class="keyword">const</span> arr = [[[[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]],[<span class="number">5</span>,<span class="number">6</span>]],[[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],[<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>]],<span class="number">14</span>,[[[<span class="number">15</span>,<span class="number">16</span>],<span class="number">17</span>],<span class="number">18</span>,[[<span class="number">19</span>,<span class="number">20</span>],<span class="number">21</span>,<span class="number">22</span>]],[<span class="number">23</span>,<span class="number">24</span>],<span class="number">25</span>,[[[<span class="number">26</span>,[<span class="number">27</span>,<span class="number">28</span>,[<span class="number">29</span>,<span class="number">30</span>]]],<span class="number">31</span>,<span class="number">32</span>],<span class="number">33</span>,<span class="number">34</span>,<span class="number">35</span>],<span class="number">36</span>,[<span class="number">37</span>,<span class="number">38</span>,<span class="number">39</span>,<span class="number">40</span>]]</span><br><span class="line"><span class="comment">// 记录运行时间</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">'数组扁平化'</span>)</span><br><span class="line"><span class="keyword">const</span> lastArr = flatten(arr)</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'数组扁平化'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(lastArr)</span><br></pre></td></tr></table></figure><h2 id="循环-使用数组splice方法（非递归，改变原数组，不返回新数组）"><a href="#循环-使用数组splice方法（非递归，改变原数组，不返回新数组）" class="headerlink" title="循环 使用数组splice方法（非递归，改变原数组，不返回新数组）"></a>循环 使用数组splice方法（非递归，改变原数组，不返回新数组）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>;i &lt; arr.length;) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(arr[i])) &#123;</span><br><span class="line">      arr.splice(i,<span class="number">1</span>,...arr[i])</span><br><span class="line">    &#125; <span class="keyword">else</span> i++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="用数组的reduce方法递归"><a href="#用数组的reduce方法递归" class="headerlink" title="用数组的reduce方法递归"></a>用数组的reduce方法递归</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function">(<span class="params">accumulator, currentValue</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> accumulator.concat(<span class="built_in">Array</span>.isArray(currentValue) ? flatten(currentValue) : currentValue)</span><br><span class="line">  &#125;, [])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="for-of循环判断数组递归"><a href="#for-of循环判断数组递归" class="headerlink" title="for of循环判断数组递归"></a>for of循环判断数组递归</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> arr) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(item)) result.push(...flatten(item))</span><br><span class="line">      <span class="keyword">else</span> result.push(item)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="while循环加数组的some方法"><a href="#while循环加数组的some方法" class="headerlink" title="while循环加数组的some方法"></a>while循环加数组的some方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.some(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Array</span>.isArray(item))) &#123; </span><br><span class="line">    arr = [].concat(...arr)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数组的flat方法"><a href="#数组的flat方法" class="headerlink" title="数组的flat方法"></a>数组的flat方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.flat(<span class="literal">Infinity</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>个人测试flat方法性能最好，其余性能接近（个人看法）</p>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二次封装EChart</title>
      <link href="/2021/08/13/encapsulating-EChart/"/>
      <url>/2021/08/13/encapsulating-EChart/</url>
      
        <content type="html"><![CDATA[<h2 id="EChart目录"><a href="#EChart目录" class="headerlink" title="EChart目录"></a>EChart目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">├── EChart</span><br><span class="line">├── chart-bar</span><br><span class="line">├──ChartBar.vue</span><br><span class="line">├──index.vue</span><br><span class="line">├── chart-line</span><br><span class="line">├──ChartLine.vue</span><br><span class="line">├──index.vue</span><br><span class="line">├── chart-pie</span><br><span class="line">├──ChartPie.vue</span><br><span class="line">├──index.vue</span><br></pre></td></tr></table></figure><h2 id="ChartBar-vue源码"><a href="#ChartBar-vue源码" class="headerlink" title="ChartBar.vue源码"></a>ChartBar.vue源码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;chart&quot;</span><br><span class="line">       :style&#x3D;&quot;&#123; width: &#39;100%&#39;,height: height + &#39;px&#39; &#125;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import * as echarts from &#39;echarts&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    seriesData: &#123;</span><br><span class="line">      &#x2F;&#x2F; type: Array,</span><br><span class="line">      required: true,</span><br><span class="line">      default: () &#x3D;&gt; []</span><br><span class="line">    &#125;,</span><br><span class="line">    height: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 350</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; extraOption: &#123;</span><br><span class="line">    &#x2F;&#x2F;   type: Object,</span><br><span class="line">    &#x2F;&#x2F;   default: () &#x3D;&gt; (&#123;&#125;),</span><br><span class="line">    &#x2F;&#x2F; &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      chart: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    seriesData: &#123;</span><br><span class="line">      deep: true,</span><br><span class="line">      handler () &#123;</span><br><span class="line">        this.updateChartView()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.chart &#x3D; echarts.init(this.$el)</span><br><span class="line">    this.updateChartView()</span><br><span class="line">    window.addEventListener(&#39;resize&#39;, this.handleWindowResize)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy () &#123;</span><br><span class="line">    window.removeEventListener(&#39;resize&#39;, this.handleWindowResize)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F; 更新echart视图</span><br><span class="line">    updateChartView () &#123;</span><br><span class="line">      if (!this.chart) return</span><br><span class="line">      const fullOption &#x3D; this.assembleDataToOption()</span><br><span class="line">      this.chart.setOption(fullOption, true)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; 将业务数据加入到基础样式配置中</span><br><span class="line">    assembleDataToOption () &#123;</span><br><span class="line">      const name &#x3D; this.seriesData.map(item &#x3D;&gt; item.name)</span><br><span class="line">      const value &#x3D; this.seriesData.map(item &#x3D;&gt; item.value)</span><br><span class="line">      return &#123;</span><br><span class="line">        xAxis: &#123;</span><br><span class="line">          type: &#39;category&#39;,</span><br><span class="line">          data: name,</span><br><span class="line">          &#x2F;&#x2F;轴线标签</span><br><span class="line">          axisLabel: &#123;</span><br><span class="line">            interval: 0,</span><br><span class="line">            fontSize: 15,</span><br><span class="line">            rotate: name.length &lt;&#x3D; 6 ? 0 : 45</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        yAxis: &#123;</span><br><span class="line">          type: &#39;value&#39;,</span><br><span class="line">          &#x2F;&#x2F;轴线标签</span><br><span class="line">          axisLabel: &#123;</span><br><span class="line">            fontSize: 15</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        series: [</span><br><span class="line">          &#123;</span><br><span class="line">            data: value,</span><br><span class="line">            type: &#39;bar&#39;,</span><br><span class="line">            barWidth: &#39;30%&#39;,</span><br><span class="line">            barMaxWidth: &#39;40px&#39;</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        grid: &#123;</span><br><span class="line">          top: 25,</span><br><span class="line">          left: 35,</span><br><span class="line">          right: 10,</span><br><span class="line">          bottom: 35</span><br><span class="line">        &#125;,</span><br><span class="line">        &#x2F;&#x2F;鼠标悬浮显示</span><br><span class="line">        tooltip: &#123;</span><br><span class="line">          trigger: &#39;axis&#39;,</span><br><span class="line">          axisPointer: &#123;</span><br><span class="line">            type: &#39;shadow&#39;,</span><br><span class="line">            label: false</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;当窗口缩放时，echart动态调整自身大小</span><br><span class="line">    handleWindowResize () &#123;</span><br><span class="line">      if (!this.chart) return</span><br><span class="line">      this.chart.resize()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h2 id="index-vue源码"><a href="#index-vue源码" class="headerlink" title="index.vue源码"></a>index.vue源码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;text-center&quot;</span><br><span class="line">         v-if&#x3D;&quot;isEmpty&quot;&gt;</span><br><span class="line">      &lt;span&gt;暂无数据&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;chart-bar v-else</span><br><span class="line">               v-bind&#x3D;&quot;this.$props&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import ChartBar from &#39;.&#x2F;ChartBar&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Chart-Bar&#39;,</span><br><span class="line">  components: &#123; ChartBar &#125;,</span><br><span class="line">  props: ChartBar.props,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    isEmpty () &#123;</span><br><span class="line">      return !this.seriesData || this.seriesData.length &#x3D;&#x3D;&#x3D; 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>该方法仅为思路，具体封装按照需求处理</p>]]></content>
      
      
      <categories>
          
          <category> encapsulate </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mac禁用chrome更新</title>
      <link href="/2021/07/28/Disable-Chrome-Update/"/>
      <url>/2021/07/28/Disable-Chrome-Update/</url>
      
        <content type="html"><![CDATA[<h2 id="禁止更新"><a href="#禁止更新" class="headerlink" title="禁止更新"></a>禁止更新</h2><p>在终端输入:<br><code>cd ~/Library/Google</code><br><code>sudo chown root:wheel GoogleSoftwareUpdate</code></p><h2 id="恢复更新"><a href="#恢复更新" class="headerlink" title="恢复更新"></a>恢复更新</h2><p>在终端输入:<br><code>cd ~/Library/Googlesudo chown root:staff GoogleSoftwareUpdate</code></p>]]></content>
      
      
      <categories>
          
          <category> Google </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>生成ssh-key</title>
      <link href="/2021/07/28/Create-SSH-key/"/>
      <url>/2021/07/28/Create-SSH-key/</url>
      
        <content type="html"><![CDATA[<p>打开终端在终端输入以下代码:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ls ~/.ssh</span><br></pre></td></tr></table></figure><p>如果输出内容里边包含(其中 id_rsa 是私钥，id_rsa.pub 是公钥)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id_rsa    id_rsa.pub</span><br></pre></td></tr></table></figure><p>如果输出如下则表示你的电脑没有生成过公钥和私钥，则要进行生成操作:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">No such file or directory</span><br></pre></td></tr></table></figure><p>在终端执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"your_email@example.com"</span></span><br></pre></td></tr></table></figure><p>代码参数含义：<br>-t 指定密钥类型，默认是 rsa ，可以省略。<br>-C 设置注释文字，比如邮箱。<br>-f 指定密钥文件存储文件名。<br>以上代码省略了 -f 参数，因此，运行上面那条命令后会让你输入一个文件名，用于保存刚才生成的 SSH key 代码</p>]]></content>
      
      
      <categories>
          
          <category> config </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>post请求下下载文件的方法</title>
      <link href="/2021/07/28/download-file-post/"/>
      <url>/2021/07/28/download-file-post/</url>
      
        <content type="html"><![CDATA[<p>如果后端是用 post 请求并且返回文件流可以采用以下代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$api</span><br><span class="line">  .post(url, &#123; params &#125;, &#123; <span class="attr">responseType</span>: <span class="string">'blob'</span> &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 触发下载</span></span><br><span class="line">    <span class="keyword">const</span> filename = res.headers[<span class="string">'content-disposition'</span>]</span><br><span class="line">      .replace(<span class="string">'attachment; filename='</span>, <span class="string">''</span>)</span><br><span class="line">      .replace(<span class="regexp">/\"/g</span>, <span class="string">''</span>)</span><br><span class="line">    <span class="keyword">const</span> downloadElement = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">    <span class="keyword">const</span> href = <span class="built_in">window</span>.URL.createObjectURL(res.data)</span><br><span class="line">    downloadElement.href = href</span><br><span class="line">    downloadElement.download = filename</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(downloadElement)</span><br><span class="line">    downloadElement.click()</span><br><span class="line">    <span class="built_in">document</span>.body.removeChild(downloadElement)</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.$message.error(<span class="string">'下载失败,'</span> + err)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> download </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端大屏适配问题(用react示例)</title>
      <link href="/2021/07/28/screen-adaptation/"/>
      <url>/2021/07/28/screen-adaptation/</url>
      
        <content type="html"><![CDATA[<p>采用了 css3 的缩放 transform: scale(X)属性</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class="line">import debounce from &#39;lodash.debounce&#39;</span><br><span class="line">import s from &#39;.&#x2F;index.less&#39;</span><br><span class="line"></span><br><span class="line">class Comp extends Component&#123;</span><br><span class="line">  constructor(p) &#123;</span><br><span class="line">    super(p)</span><br><span class="line">    this.state&#x3D;&#123;</span><br><span class="line">      scale: this.getScale()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    window.addEventListener(&#39;resize&#39;, this.setScale)</span><br><span class="line">  &#125;</span><br><span class="line">  getScale&#x3D;() &#x3D;&gt; &#123;</span><br><span class="line">    const &#123;width&#x3D;1920, height&#x3D;1080&#125; &#x3D; this.props</span><br><span class="line">    let ww&#x3D;window.innerWidth&#x2F;width</span><br><span class="line">    let wh&#x3D;window.innerHeight&#x2F;height</span><br><span class="line">    return ww&lt;wh?ww: wh</span><br><span class="line">  &#125;</span><br><span class="line">  setScale &#x3D; debounce(() &#x3D;&gt; &#123;</span><br><span class="line">    let scale&#x3D;this.getScale()</span><br><span class="line">    this.setState(&#123; scale &#125;)</span><br><span class="line">  &#125;, 500)</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123;width&#x3D;1920, height&#x3D;1080, children&#125; &#x3D; this.props</span><br><span class="line">    const &#123;scale&#125; &#x3D; this.state</span><br><span class="line">    return(</span><br><span class="line">      &lt;div</span><br><span class="line">        className&#x3D;&#123;s[&#39;scale-box&#39;]&#125;</span><br><span class="line">        style&#x3D;&#123;&#123;</span><br><span class="line">          transform: &#96;scale($&#123;scale&#125;) translate(-50%, -50%)&#96;,</span><br><span class="line">          WebkitTransform: &#96;scale($&#123;scale&#125;) translate(-50%, -50%)&#96;,</span><br><span class="line">          width,</span><br><span class="line">          height</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        &#123;children&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    window.removeEventListener(&#39;resize&#39;, this.setScale)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Comp</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> transform </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
